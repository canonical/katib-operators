type: charm
bases:
  - build-on:
    - name: "ubuntu"
      channel: "20.04"
    run-on:
    - name: "ubuntu"
      channel: "20.04"
parts:
  charm:
    build-environment:
      - PIP_CONSTRAINT: "constraints.txt"
    charm-python-packages: [setuptools <= 72, pip]
    # Pydantic build dependencies
    build-packages: [cargo, rustc, pkg-config, libffi-dev, libssl-dev]
